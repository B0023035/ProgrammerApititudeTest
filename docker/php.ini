# PHP 本番環境設定

[PHP]
; 本番環境用の最適化設定

; メモリ制限
memory_limit = 256M

; 最大ファイルサイズ
upload_max_filesize = 50M
post_max_size = 50M

; タイムアウト
max_execution_time = 300
default_socket_timeout = 60

; エラーハンドリング
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
display_errors = Off
log_errors = On
error_log = /var/log/php-error.log

; セッション
session.gc_maxlifetime = 7200
session.save_path = "/var/lib/php/sessions"

; Opcache（キャッシング）
opcache.enable = 1
opcache.enable_cli = 0
opcache.memory_consumption = 256
opcache.interned_strings_buffer = 16
opcache.max_accelerated_files = 20000
opcache.validate_timestamps = 0
opcache.revalidate_freq = 0
opcache.fast_shutdown = 1

; セキュリティ
disable_functions = pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wstopsig,pcntl_wtermsig,pcntl_kill,pcntl_async_signals,pcntl_getpriority,pcntl_setpriority,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,exec,system,shell_exec,passthru,proc_open,proc_close,popen,pclose
expose_php = Off

; 日本語対応
default_charset = "UTF-8"
