# Draw.io用ドキュメント - 索引

draw.io で構成図を作成するためのドキュメント集です。小分けにして作成しているので、必要な部分から参照してください。

## 📑 ドキュメント一覧

### 1️⃣ [システム全体アーキテクチャ](DRAWIO_ARCHITECTURE_1_OVERVIEW.md)

**内容**: システムの大局的な構成、層別構成、基本的なフロー

- システム全体アーキテクチャ図
- リクエスト/レスポンスフロー概要
- 認証フロー基本

**活用例**:

- システム構成図の作成
- クライアント/サーバー間の関係図
- 認証フロー図

**ボリューム**: 中程度 (コピペで draw.io にペースト可能)

---

### 2️⃣ [データベーススキーマ](DRAWIO_DATABASE_2_SCHEMA.md)

**内容**: DB テーブル詳細、リレーション、キー設定

- データベース全体構成
- テーブル構造の詳細
- ER 図 (テキスト版)
- テーブル間の関係

**活用例**:

- ER 図の作成
- データベース構成図
- テーブルリレーション図

**ボリューム**: 中程度 (スキーマ情報が充実)

---

### 3️⃣ [ユーザーフロー (認証&試験)](DRAWIO_USERFLOW_3_EXAM.md)

**内容**: 認証ユーザーの登録から試験完了までの完全フロー

- ユーザー登録～ログインフロー
- 試験実施フロー (Part 1/2/3)
- セキュリティ検知フロー
- 練習問題閲覧フロー

**活用例**:

- ユーザーの操作フロー図
- 試験実施の詳細フロー
- ユースケース図

**ボリューム**: 大きめ (フロー図が詳細)

---

### 4️⃣ [ゲストユーザーフロー](DRAWIO_GUESTFLOW_4_GUEST.md)

**内容**: ゲスト (非認証) ユーザーの試験実施フロー

- ゲスト試験実施フロー
- セッションコード入力フロー
- ゲスト情報入力フロー
- ゲストと認証ユーザーの比較

**活用例**:

- ゲストユーザーのフロー図
- セッションコード管理図
- ゲスト vs 認証ユーザー比較表

**ボリューム**: 中程度

---

### 5️⃣ [管理者フロー](DRAWIO_ADMINFLOW_5_ADMIN.md)

**内容**: 管理者のすべてのアクション (認証、イベント管理、結果確認)

- 管理者ログインフロー
- イベント管理フロー (作成/編集/確認)
- 結果管理フロー
- 不正検知管理フロー
- 管理者権限一覧

**活用例**:

- 管理者ダッシュボード設計図
- 管理機能のワークフロー
- 権限制御フロー図

**ボリューム**: 大きめ (機能が多い)

---

### 6️⃣ [HTTP リクエスト/レスポンス](DRAWIO_HTTP_6_REQUESTS.md)

**内容**: 実際のHTTP通信パターン、CSRF保護、セッション管理

- メインリクエスト/レスポンスフロー
- ログインリクエスト例
- 試験開始リクエスト例
- 解答送信リクエスト例
- 管理者 - イベント作成例
- エラーレスポンス例
- CSRF トークンフロー
- セッション管理フロー
- バリデーション例

**活用例**:

- API 仕様書の視覚化
- 通信フロー図
- CSRF 保護の説明図
- セッション管理図

**ボリューム**: 大きめ (具体的な例が豊富)

---

## 🎯 使い方ガイド

### 小分けの理由

各ドキュメントを **小分けにした理由**:

1. **ファイルサイズが大きくなりすぎない** → VS Code で読み込み軽快
2. **必要な部分だけ draw.io にコピペ** → 管理しやすい
3. **テーマごとに異なる図の要件** → 独立した図として完成
4. **複数人で並行編集可能** → 各自異なるファイルで作業

### 推奨フロー

```
1. [1]システムアーキテクチャ で全体像を把握
   ↓
2. [2]データベーススキーマ でデータ構造を理解
   ↓
3. [3][4][5] からフロー図を選択
   - ユーザーフロー → [3]を参照
   - ゲストフロー → [4]を参照
   - 管理者フロー → [5]を参照
   ↓
4. [6]HTTP リクエスト/レスポンス で API の詳細を確認
```

### Draw.io での使用方法

**1. テキストをコピーしてDraw.ioにペースト**

```
流れ図部分をそのままテーブルにコピーして、
draw.io でボックス/矢印に変換する
```

**2. テーブル情報から ER 図を作成**

```
[2]のテーブル情報を元に
draw.io の Entity Relationship Diagram を作成
```

**3. フローチャート作成**

```
[3][4][5]の流れ図をベースに
draw.io のフローチャート図形を使って可視化
```

---

## 📊 各ドキュメントの関連性

```
┌────────────────────────────────────────────────────────┐
│         システム全体概要 [1]                           │
│  (Layer, Component, 基本フロー)                       │
└────────────────┬───────────────────────────────────────┘
                 │
        ┌────────┴────────┐
        │                 │
        ▼                 ▼
┌──────────────┐    ┌──────────────────┐
│   DB設計     │    │   ユーザーフロー  │
│    [2]       │    │      [3][4][5]   │
│             │    │                  │
│  ER図等      │    │  UI/UX フロー    │
│             │    │                  │
└──────────────┘    └──────────────────┘
        │                  │
        │                  │
        └────────┬─────────┘
                 │
                 ▼
         ┌──────────────────┐
         │  HTTP通信         │
         │   [6]            │
         │                  │
         │ API仕様書         │
         │ CSRF/Session     │
         └──────────────────┘
```

---

## 🔍 トラブルシューティング

**Q: ファイルが大きすぎて読み込めない？**

- A: ドキュメントは意図的に分割されています。必要な部分 1-2 ファイルだけを開いてください

**Q: 図形の詳細な作り方を知りたい？**

- A: テキスト形式のフロー図を draw.io にコピーしてから、各自で図形に変換してください

**Q: 各ファイルの更新連携をどうする？**

- A: 各ファイルは独立しています。変更は該当ファイルのみ行ってください

---

## 📌 クイックリファレンス

| 図の種類       | 参照ファイル | 主な内容                                  |
| -------------- | ------------ | ----------------------------------------- |
| システム構成図 | [1]          | Layer, Component, 全体フロー              |
| ER図・スキーマ | [2]          | テーブル, リレーション, キー              |
| ユーザーフロー | [3]          | 認証, 試験実施, 練習問題                  |
| ゲストフロー   | [4]          | セッションコード, ゲスト試験              |
| 管理者フロー   | [5]          | ログイン, イベント管理, 成績確認          |
| API 仕様       | [6]          | HTTP リクエスト/レスポンス, CSRF, Session |

---

## ✨ 次のステップ

1. 各ファイルから必要な部分を draw.io にコピー
2. draw.io で図形・配置・装飾を調整
3. 完成した図をエクスポート (PNG, SVG, PDF など)
4. ドキュメントに埋め込み

完成図は以下の形式でエクスポート可能:

- **PNG**: 画像共有・ドキュメント掲載向け
- **SVG**: スケーラブル・Web掲載向け
- **PDF**: 印刷・正式資料向け
- **Drawio XML**: 再編集・バージョン管理向け
